{"version":3,"sources":["colorMapper.ts","App.js","serviceWorker.js","index.js"],"names":["colors","nodeTypeToColorMap","indexIntoColors","highlightColor","border","this","background","type","length","console","log","node","id","split","getColorsForType","highlight","shortid","require","App","cachedPredicates","localStorage","getItem","React","useState","predicates","setPredicates","operations","hostUrl","setHostUrl","storeId","setStoreId","generate","predicate","operation","value","filters","setFilters","path","level","target","outgoings","setOutgoings","incomings","setIncomings","jsonResponse","setJsonResponse","showJson","setShowJson","showGraph","setShowGraph","showConnectionInfo","setShowConnectionInfo","showFilters","setShowFilters","showOutgoing","setShowOutgoing","showIncoming","setShowIncoming","showAggregates","setShowAggregates","countAggregate","setCountAggregate","colorNodes","setColorNodes","handleFilterFormChange","e","currentFilter","map","f","handleDeleteFilterForm","filter","handleTypeaheadFilterSelection","selected","typeahead","handleTypeaheadFilterChange","val","handleOutgoingFilterFormChange","currentOutgoing","o","handleOutgoingDeleteFilterForm","handleOutgoingDeleteForm","handleOutgoingTypeaheadFilterSelection","handleOutgoingTypeaheadFilterChange","addOutgoingFilter","updatedOutgoing","addIncomingFilter","updatedIncoming","i","handleIncomingFilterFormChange","currentIncoming","handleIncomingDeleteFilterForm","handleIncomingDeleteForm","handleIncomingTypeaheadFilterSelection","handleIncomingTypeaheadFilterChange","anyValidOutgoings","outgoing","some","anyValidIncomings","incoming","tryParseInt","str","retValue","isNaN","parseInt","runQuery","continuation","a","async","body","op","parseFloat","newOutgoing","push","newIncoming","aggregates","axios","get","encodeURIComponent","post","response","time1","Date","newJson","data","values","newNodes","newEdges","newNode","label","title","ColorMapper","getColorForNode","n","toAdd","tryAddNodeToGraph","nodes","edges","edge","setGraph","time2","propertyKey","property","Array","isArray","item","from","to","graph","events","select","event","graphUpdate","JSON","parse","stringify","className","Jumbotron","onClick","Collapse","in","Form","Group","controlId","Label","Control","placeholder","onChange","Button","variant","includes","setItem","filterGroups","InputGroup","labelKey","multiple","options","allowNew","onInputChange","FormControl","aria-label","renderFilters","outgoingGroups","renderOutgoings","incomingGroups","renderIncomings","Check","checked","name","useColor","setTimeout","redrawGraph","configure","enabled","showButton","layout","hierarchical","improvedLayout","physics","forceAtlas2Based","gravitationalConstant","centralGravity","springConstant","springLength","damping","avoidOverlap","maxVelocity","minVelocity","solver","adaptiveTimestep","stabilization","fixed","shape","shapeProperties","interpolation","smooth","roundness","manipulation","interaction","dragNodes","dragView","style","width","height","src","onSelect","nodeToUpdate","namespace","parentNode","j","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.16e8ef02.chunk.js","sourcesContent":["export class ColorMapper {\r\n    \r\n    private colors: string[] = [\r\n    '#63b598', '#ce7d78', '#ea9e70', '#a48a9e', '#c6e1e8', '#648177' ,'#0d5ac1' ,\r\n    '#f205e6' ,'#1c0365' ,'#14a9ad' ,'#4ca2f9' ,'#a4e43f' ,'#d298e2' ,'#6119d0',\r\n    '#d2737d' ,'#c0a43c' ,'#f2510e' ,'#651be6' ,'#79806e' ,'#61da5e' ,'#cd2f00' ,\r\n    '#9348af' ,'#01ac53' ,'#c5a4fb' ,'#996635','#b11573' ,'#4bb473' ,'#75d89e' ,\r\n    '#2f3f94' ,'#2f7b99' ,'#da967d' ,'#34891f' ,'#b0d87b' ,'#ca4751' ,'#7e50a8' ,\r\n    '#c4d647' ,'#e0eeb8' ,'#11dec1' ,'#289812' ,'#566ca0' ,'#ffdbe1' ,'#2f1179' ,\r\n    '#935b6d' ,'#916988' ,'#513d98' ,'#aead3a', '#9e6d71', '#4b5bdc', '#0cd36d',\r\n    '#250662', '#cb5bea', '#228916', '#ac3e1b', '#df514a', '#539397', '#880977',\r\n    '#f697c1', '#ba96ce', '#679c9d', '#c6c42c', '#5d2c52', '#48b41b', '#e1cf3b',\r\n    '#5be4f0', '#57c4d8', '#a4d17a', '#225b8', '#be608b', '#96b00c', '#088baf',\r\n    '#f158bf', '#e145ba', '#ee91e3', '#05d371', '#5426e0', '#4834d0', '#802234',\r\n    '#6749e8', '#0971f0', '#8fb413', '#b2b4f0', '#c3c89d', '#c9a941', '#41d158',\r\n    '#fb21a3', '#51aed9', '#5bb32d', '#807fb', '#21538e', '#89d534', '#d36647',\r\n    '#7fb411', '#0023b8', '#3b8c2a', '#986b53', '#f50422', '#983f7a', '#ea24a3',\r\n    '#79352c', '#521250', '#c79ed2', '#d6dd92', '#e33e52', '#b2be57', '#fa06ec',\r\n    '#1bb699', '#6b2e5f', '#64820f', '#1c271', '#21538e', '#89d534', '#d36647',\r\n    '#7fb411', '#0023b8', '#3b8c2a', '#986b53', '#f50422', '#983f7a', '#ea24a3',\r\n    '#79352c', '#521250', '#c79ed2', '#d6dd92', '#e33e52', '#b2be57', '#fa06ec',\r\n    '#1bb699', '#6b2e5f', '#64820f', '#1c271', '#9cb64a', '#996c48', '#9ab9b7',\r\n    '#06e052', '#e3a481', '#0eb621', '#fc458e', '#b2db15', '#aa226d', '#792ed8',\r\n    '#73872a', '#520d3a', '#cefcb8', '#a5b3d9', '#7d1d85', '#c4fd57', '#f1ae16',\r\n    '#8fe22a', '#ef6e3c', '#243eeb', '#1dc18', '#dd93fd', '#3f8473', '#e7dbce',\r\n    '#421f79', '#7a3d93', '#635f6d', '#93f2d7', '#9b5c2a', '#15b9ee', '#0f5997',\r\n    '#409188', '#911e20', '#1350ce', '#10e5b1', '#fff4d7', '#cb2582', '#ce00be',\r\n    '#32d5d6', '#17232', '#608572', '#c79bc2', '#00f87c', '#77772a', '#6995ba',\r\n    '#fc6b57', '#f07815', '#8fd883', '#060e27', '#96e591', '#21d52e', '#d00043',\r\n    '#b47162', '#1ec227', '#4f0f6f', '#1d1d58', '#947002', '#bde052', '#e08c56',\r\n    '#28fcfd', '#bb09b', '#36486a', '#d02e29', '#1ae6db', '#3e464c', '#a84a8f',\r\n    '#911e7e', '#3f16d9', '#0f525f', '#ac7c0a', '#b4c086', '#c9d730', '#30cc49',\r\n    '#3d6751', '#fb4c03', '#640fc1', '#62c03e', '#d3493a', '#88aa0b', '#406df9',\r\n    '#615af0', '#4be47', '#2a3434', '#4a543f', '#79bca0', '#a8b8d4', '#00efd4',\r\n    '#7ad236', '#7260d8', '#1deaa7', '#06f43a', '#823c59', '#e3d94c', '#dc1c06',\r\n    '#f53b2a', '#b46238', '#2dfff6', '#a82b89', '#1a8011', '#436a9f', '#1a806a',\r\n    '#4cf09d', '#c188a2', '#67eb4b', '#b308d3', '#fc7e41', '#af3101', '#ff065',\r\n    '#71b1f4', '#a2f8a5', '#e23dd0', '#d3486d', '#00f7f9', '#474893', '#3cec35',\r\n    '#1c65cb', '#5d1d0c', '#2d7d2a', '#ff3420', '#5cdd87', '#a259a4', '#e4ac44',\r\n    '#1bede6', '#8798a4', '#d7790f', '#b2c24f', '#de73c2', '#d70a9c', '#25b67',\r\n    '#88e9b8', '#c2b0e2', '#86e98f', '#ae90e2', '#1a806b', '#436a9e', '#0ec0ff',\r\n    '#f812b3', '#b17fc9', '#8d6c2f', '#d3277a', '#2ca1ae', '#9685eb', '#8a96c6',\r\n    '#dba2e6', '#76fc1b', '#608fa4', '#20f6ba', '#07d7f6', '#dce77a', '#77ecca'];\r\n  \r\n    // private hexToRgb(hex: string) {\r\n    //   // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n    //   var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    //   hex = hex.replace(shorthandRegex, function(m, r, g, b) {\r\n    //     return r + r + g + g + b + b;\r\n    //   });\r\n    \r\n    //   var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    //   return result ? {\r\n    //     r: parseInt(result[1], 16),\r\n    //     g: parseInt(result[2], 16),\r\n    //     b: parseInt(result[3], 16)\r\n    //   } : null;\r\n    // }\r\n  \r\n    private nodeTypeToColorMap: any = {};\r\n    private indexIntoColors: number = 2;\r\n    private highlightColor: any = {\r\n      border: this.colors[0],\r\n      background: this.colors[1]\r\n    };\r\n\r\n    private getColorsForType(type: string): any {\r\n      if(this.nodeTypeToColorMap[type]){\r\n        return this.nodeTypeToColorMap[type];\r\n      }\r\n        if(this.indexIntoColors + 1 >= this.colors.length) {\r\n            console.log('exceeded available colors');\r\n            this.indexIntoColors = 2;\r\n        }\r\n        this.nodeTypeToColorMap[type] = {\r\n            border: this.colors[this.indexIntoColors++],\r\n            background: this.colors[this.indexIntoColors++]\r\n        }\r\n      \r\n      return this.nodeTypeToColorMap[type];\r\n    }\r\n  \r\n    public getColorForNode(node: any): any {\r\n      var type = node.id.split('-')[0];\r\n      var colors = this.getColorsForType(type);\r\n      return {\r\n        border: colors.border,\r\n        background: colors.background,\r\n        highlight: this.highlightColor\r\n      }\r\n    }\r\n}\r\n\r\nexport default new ColorMapper();","import React from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport axios from 'axios';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport {Typeahead} from 'react-bootstrap-typeahead';\r\nimport ReactJson from 'react-json-view'\r\nimport './App.css';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport Graph from 'vis-react';\r\nimport ColorMapper from './colorMapper';\r\n\r\nconst shortid = require('shortid');\r\n\r\nfunction App() {\r\n  var cachedPredicates = localStorage.getItem('predicates');\r\n  if(cachedPredicates){\r\n    cachedPredicates = cachedPredicates.split(\",\");\r\n  }\r\n  const [predicates, setPredicates] = React.useState(cachedPredicates || ['type', 'id']);\r\n  const [operations, setOperations] = React.useState(['eq', 'ge', 'gt', 'le', 'lt', 'ne']);\r\n  const [hostUrl, setHostUrl] = React.useState(localStorage.getItem('hostUrl') || '');\r\n  const [storeId, setStoreId] = React.useState(localStorage.getItem('storeId') || '');\r\n  const [filters, setFilters] = React.useState([\r\n    {\r\n      id: shortid.generate(),\r\n      predicate: '',\r\n      operation: '',\r\n      value: ''\r\n    }\r\n  ]);\r\n  const [outgoings, setOutgoings] = React.useState([\r\n    {\r\n      id: shortid.generate(),\r\n      path: '*',\r\n      level: 0,\r\n      target: {\r\n        filters: [\r\n          {\r\n            id: shortid.generate(),\r\n            predicate: '',\r\n            operation: '',\r\n            value: ''\r\n          }\r\n        ] \r\n      }\r\n    }\r\n  ]);\r\n  const [incomings, setIncomings] = React.useState([\r\n    {\r\n      id: shortid.generate(),\r\n      path: '*',\r\n      level: 0,\r\n      target: {\r\n        filters: [\r\n          {\r\n            id: shortid.generate(),\r\n            predicate: '',\r\n            operation: '',\r\n            value: ''\r\n          }\r\n        ] \r\n      }\r\n    }\r\n  ]);\r\n  const [jsonResponse, setJsonResponse] = React.useState({});\r\n  const [showJson, setShowJson] = React.useState(false);\r\n  const [showGraph, setShowGraph] = React.useState(true);\r\n  const [showConnectionInfo, setShowConnectionInfo] = React.useState(true);\r\n  const [showFilters, setShowFilters] = React.useState(true);\r\n  const [showOutgoing, setShowOutgoing] = React.useState(false);\r\n  const [showIncoming, setShowIncoming] = React.useState(false);\r\n  const [values, setValues] = React.useState([]);\r\n  const [showAggregates, setShowAggregates] = React.useState(false);\r\n  const [countAggregate, setCountAggregate] = React.useState(false);\r\n  const [colorNodes, setColorNodes] = React.useState(true);\r\n\r\n  function handleFilterFormChange(e, currentFilter) {\r\n    setFilters(filters.map(f => f.id === currentFilter.id ? {...f, value: e.target && e.target.value} : f));\r\n  } \r\n\r\n  function handleDeleteFilterForm(currentFilter) {\r\n    setFilters(filters.filter(f => f.id !== currentFilter.id));\r\n  }\r\n\r\n  function handleTypeaheadFilterSelection(selected, currentFilter, typeahead){\r\n    setFilters(filters.map(f => f.id === currentFilter.id ? {...f, [typeahead]: selected.length && selected[0]} : f));\r\n  }\r\n\r\n  function handleTypeaheadFilterChange(val, currentFilter, typeahead){\r\n    setFilters(filters.map(f => f.id === currentFilter.id ? {...f, [typeahead]: val} : f));\r\n  }\r\n\r\n  function renderFilters() {\r\n    var filterGroups = [];\r\n    for(var filter of filters) {\r\n      filterGroups.push(<InputGroup className=\"input-group\">\r\n      <Typeahead\r\n          id={filter.id + \"predicate\"}\r\n          labelKey=\"predicate\"\r\n          multiple={false}\r\n          options={predicates}\r\n          placeholder=\"Choose a predicate\"\r\n          className=\"Typeahead\"\r\n          value={filter.predicate}\r\n          allowNew={true}\r\n          onChange={((currentFilter) => (selected) => handleTypeaheadFilterSelection(selected, currentFilter, 'predicate'))(filter)}\r\n          onInputChange={((currentFilter) => (val) => handleTypeaheadFilterChange(val, currentFilter, 'predicate'))(filter)}\r\n        />\r\n        <Typeahead\r\n          id={filter.id + \"operation\"}\r\n          labelKey=\"operation\"\r\n          multiple={false}\r\n          options={operations}\r\n          placeholder=\"Choose an operation\"\r\n          className=\"Typeahead\"\r\n          value={filter.operation}\r\n          onChange={((currentFilter) => (selected) => handleTypeaheadFilterSelection(selected, currentFilter, 'operation'))(filter)}\r\n          onInputChange={((currentFilter) => (val) => handleTypeaheadFilterChange(val, currentFilter, 'operation'))(filter)}\r\n        ></Typeahead>\r\n        <FormControl\r\n          placeholder=\"value\"\r\n          aria-label=\"value\"\r\n          value={filter.value}\r\n          onChange={((currentFilter) => (e) => handleFilterFormChange(e, currentFilter))(filter)}\r\n        />\r\n        <Button variant=\"danger\" onClick={((currentFilter) => () => handleDeleteFilterForm(currentFilter))(filter)}>X</Button>\r\n    </InputGroup>)\r\n    }\r\n    return <>\r\n    {filterGroups}\r\n    </>;\r\n  }\r\n\r\n  function handleOutgoingFilterFormChange(e, currentOutgoing, currentFilter) {\r\n    setOutgoings(outgoings.map(o => o.id === currentOutgoing.id\r\n      ?  {...o, target: {...o.target, filters: o.target.filters.map(f => f.id === currentFilter.id \r\n        ? {...f, value: e.target && e.target.value}\r\n        : f) }}\r\n      : o))\r\n  } \r\n\r\n  function handleOutgoingDeleteFilterForm(currentOutgoing, currentFilter) {\r\n    setOutgoings(outgoings.map(o => o.id === currentOutgoing.id\r\n      ?  {...o, target: {...o.target, filters: o.target.filters.filter(f => f.id !== currentFilter.id)}}\r\n      : o))\r\n  }\r\n\r\n  function handleOutgoingDeleteForm(currentOutgoing) {\r\n    setOutgoings(outgoings.filter(o => o.id !== currentOutgoing.id));\r\n  }\r\n\r\n  function handleOutgoingTypeaheadFilterSelection(selected, currentOutgoing, currentFilter, typeahead){\r\n    setOutgoings(outgoings.map(o => o.id === currentOutgoing.id\r\n      ? {...o, target: {...o.target, filters: o.target.filters.map(f => f.id === currentFilter.id \r\n        ? {...f, [typeahead]: selected.length && selected[0]}\r\n        : f) }} \r\n      : o));\r\n  }\r\n\r\n  function handleOutgoingTypeaheadFilterChange(val, currentOutgoing, currentFilter, typeahead){\r\n    setOutgoings(outgoings.map(o => o.id === currentOutgoing.id\r\n      ? {...o, target: {...o.target, filters: o.target.filters.map(f => f.id === currentFilter.id \r\n        ? {...f, [typeahead]: val}\r\n        : f) }}\r\n      : o));\r\n  }\r\n\r\n  function renderOutgoings() {\r\n    var outgoingGroups = [];\r\n    for(var outgoing of outgoings) {\r\n      var filterGroups = [];\r\n      if (!outgoing.target) continue;\r\n      for(var filter of outgoing.target.filters) {\r\n        filterGroups.push(<InputGroup className=\"input-group\">\r\n          <Typeahead\r\n              id={filter.id + \"predicate-outgoing\"}\r\n              labelKey=\"predicate\"\r\n              multiple={false}\r\n              options={predicates}\r\n              placeholder=\"Choose a predicate\"\r\n              className=\"Typeahead\"\r\n              value={filter.predicate}\r\n              allowNew={true}\r\n              onChange={((currentOutgoing, currentFilter) =>\r\n                (selected) => handleOutgoingTypeaheadFilterSelection(selected, currentOutgoing, currentFilter, 'predicate'))(outgoing, filter)}\r\n              onInputChange={((currentOutgoing, currentFilter) =>\r\n                (val) => handleOutgoingTypeaheadFilterChange(val, currentOutgoing, currentFilter, 'predicate'))(outgoing, filter)}\r\n            />\r\n            <Typeahead\r\n              id={filter.id + \"operation-outgoing\"}\r\n              labelKey=\"operation\"\r\n              multiple={false}\r\n              options={operations}\r\n              placeholder=\"Choose an operation\"\r\n              className=\"Typeahead\"\r\n              value={filter.operation}\r\n              onChange={((currentOutgoing, currentFilter) =>\r\n                (selected) => handleOutgoingTypeaheadFilterSelection(selected, currentOutgoing, currentFilter, 'operation'))(outgoing, filter)}\r\n              onInputChange={((currentOutgoing, currentFilter) =>\r\n                (val) => handleOutgoingTypeaheadFilterChange(val, currentOutgoing, currentFilter, 'operation'))(outgoing, filter)}\r\n            ></Typeahead>\r\n            <FormControl\r\n              placeholder=\"value\"\r\n              aria-label=\"value\"\r\n              value={filter.value}\r\n              onChange={((currentOutgoing, currentFilter) => (e) => handleOutgoingFilterFormChange(e, currentOutgoing, currentFilter))(outgoing, filter)}\r\n            />\r\n            <Button variant=\"danger\" onClick={((currentOutgoing, currentFilter) => () => handleOutgoingDeleteFilterForm(currentOutgoing, currentFilter))(outgoing, filter)}>X</Button>\r\n          </InputGroup>);\r\n      }\r\n      outgoingGroups.push(<div className=\"section\">\r\n      <Form.Label>\r\n        Path\r\n      </Form.Label>\r\n      <Form.Control\r\n        className=\"path-input\"\r\n        placeholder=\"path\"\r\n        aria-label=\"path\"\r\n        value={outgoing.path}\r\n        onChange={((currentOutgoing) => (e) => setOutgoings(outgoings.map(o => o.id === currentOutgoing.id ? {...o, path: e.target && e.target.value} : o)))(outgoing)}\r\n      />\r\n      <Form.Label>\r\n        Level\r\n      </Form.Label>\r\n      <Form.Control\r\n        className=\"path-input\"\r\n        placeholder=\"level\"\r\n        aria-label=\"level\"\r\n        value={outgoing.level}\r\n        onChange={((currentOutgoing) => (e) => setOutgoings(outgoings.map(o => o.id === currentOutgoing.id ? {...o, level: e.target && e.target.value} : o)))(outgoing)}\r\n      />\r\n      <Form.Label>\r\n        Filters:\r\n      </Form.Label>\r\n      {filterGroups}\r\n      <div className=\"action-button\">\r\n            <Button variant=\"info\" onClick={((currentOutgoing) => () => addOutgoingFilter(currentOutgoing.id))(outgoing)}>Add Filter</Button>\r\n            <Button variant=\"danger\" onClick={((currentOutgoing) => () => handleOutgoingDeleteForm(currentOutgoing))(outgoing)}>Remove</Button>\r\n        </div>\r\n      </div>);\r\n    }\r\n    return <>\r\n    {outgoingGroups}\r\n    </>;\r\n  }\r\n\r\n  function addFilter(){\r\n    setFilters([...filters, {\r\n      id: shortid.generate(),\r\n      predicate: '',\r\n      operation: '',\r\n      value: ''\r\n    }]);\r\n  }\r\n\r\n  function addOutgoing(){\r\n    setOutgoings([...outgoings, {\r\n      id: shortid.generate(),\r\n      path: '*',\r\n      target: {\r\n        filters: [\r\n          {\r\n            id: shortid.generate(),\r\n            predicate: '',\r\n            operation: '',\r\n            value: ''\r\n          }\r\n        ] \r\n      }\r\n    }]);\r\n  }\r\n\r\n  function addOutgoingFilter(id){\r\n    var updatedOutgoing = outgoings.filter(o => o.id === id)[0];\r\n    updatedOutgoing.target.filters = [...updatedOutgoing.target.filters, {\r\n      id: shortid.generate(),\r\n      predicate: '',\r\n      operation: '',\r\n      value: ''\r\n    }];\r\n    setOutgoings(outgoings.map(o => o.id === id ? updatedOutgoing : o));\r\n  }\r\n\r\n  function addIncoming(){\r\n    setIncomings([...incomings, {\r\n      id: shortid.generate(),\r\n      path: '*',\r\n      target: {\r\n        filters: [\r\n          {\r\n            id: shortid.generate(),\r\n            predicate: '',\r\n            operation: '',\r\n            value: ''\r\n          }\r\n        ] \r\n      }\r\n    }]);\r\n  }\r\n\r\n  function addIncomingFilter(id){\r\n    var updatedIncoming = incomings.filter(i => i.id === id)[0];\r\n    updatedIncoming.target.filters = [...updatedIncoming.target.filters, {\r\n      id: shortid.generate(),\r\n      predicate: '',\r\n      operation: '',\r\n      value: ''\r\n    }];\r\n    setIncomings(incomings.map(i => i.id === id ? updatedIncoming : i));\r\n  }\r\n\r\n  function handleIncomingFilterFormChange(e, currentIncoming, currentFilter) {\r\n    setIncomings(incomings.map(o => o.id === currentIncoming.id\r\n      ?  {...o, target: {...o.target, filters: o.target.filters.map(f => f.id === currentFilter.id \r\n        ? {...f, value: e.target && e.target.value}\r\n        : f) }}\r\n      : o))\r\n  } \r\n\r\n  function handleIncomingDeleteFilterForm(currentIncoming, currentFilter) {\r\n    setIncomings(incomings.map(o => o.id === currentIncoming.id\r\n      ?  {...o, target: {...o.target, filters: o.target.filters.filter(f => f.id !== currentFilter.id)}}\r\n      : o))\r\n  }\r\n\r\n  function handleIncomingDeleteForm(currentIncoming) {\r\n    setIncomings(incomings.filter(o => o.id !== currentIncoming.id));\r\n  }\r\n\r\n  function handleIncomingTypeaheadFilterSelection(selected, currentIncoming, currentFilter, typeahead){\r\n    setIncomings(incomings.map(o => o.id === currentIncoming.id\r\n      ? {...o, target: {...o.target, filters: o.target.filters.map(f => f.id === currentFilter.id \r\n        ? {...f, [typeahead]: selected.length && selected[0]}\r\n        : f) }} \r\n      : o));\r\n  }\r\n\r\n  function handleIncomingTypeaheadFilterChange(val, currentIncoming, currentFilter, typeahead){\r\n    setIncomings(incomings.map(o => o.id === currentIncoming.id\r\n      ? {...o, target: {...o.target, filters: o.target.filters.map(f => f.id === currentFilter.id \r\n        ? {...f, [typeahead]: val}\r\n        : f) }}\r\n      : o));\r\n  }\r\n\r\n  function renderIncomings() {\r\n    var incomingGroups = [];\r\n    for(var incoming of incomings) {\r\n      var filterGroups = [];\r\n      if (!incoming.target) continue;\r\n      for(var filter of incoming.target.filters) {\r\n        filterGroups.push(<InputGroup className=\"input-group\">\r\n          <Typeahead\r\n              id={filter.id + \"predicate-incoming\"}\r\n              labelKey=\"predicate\"\r\n              multiple={false}\r\n              options={predicates}\r\n              placeholder=\"Choose a predicate\"\r\n              className=\"Typeahead\"\r\n              value={filter.predicate}\r\n              allowNew={true}\r\n              onChange={((currentIncoming, currentFilter) =>\r\n                (selected) => handleIncomingTypeaheadFilterSelection(selected, currentIncoming, currentFilter, 'predicate'))(incoming, filter)}\r\n              onInputChange={((currentIncoming, currentFilter) =>\r\n                (val) => handleIncomingTypeaheadFilterChange(val, currentIncoming, currentFilter, 'predicate'))(incoming, filter)}\r\n            />\r\n            <Typeahead\r\n              id={filter.id + \"operation-incoming\"}\r\n              labelKey=\"operation\"\r\n              multiple={false}\r\n              options={operations}\r\n              placeholder=\"Choose an operation\"\r\n              className=\"Typeahead\"\r\n              value={filter.operation}\r\n              onChange={((currentIncoming, currentFilter) =>\r\n                (selected) => handleIncomingTypeaheadFilterSelection(selected, currentIncoming, currentFilter, 'operation'))(incoming, filter)}\r\n              onInputChange={((currentIncoming, currentFilter) =>\r\n                (val) => handleIncomingTypeaheadFilterChange(val, currentIncoming, currentFilter, 'operation'))(incoming, filter)}\r\n            ></Typeahead>\r\n            <FormControl\r\n              placeholder=\"value\"\r\n              aria-label=\"value\"\r\n              value={filter.value}\r\n              onChange={((currentIncoming, currentFilter) => (e) => handleIncomingFilterFormChange(e, currentIncoming, currentFilter))(incoming, filter)}\r\n            />\r\n            <Button variant=\"danger\" onClick={((currentIncoming, currentFilter) => () => handleIncomingDeleteFilterForm(currentIncoming, currentFilter))(incoming, filter)}>X</Button>\r\n          </InputGroup>);\r\n      }\r\n      incomingGroups.push(<div className=\"section\">\r\n      <Form.Label>\r\n        Path\r\n      </Form.Label>\r\n      <Form.Control\r\n        className=\"path-input\"\r\n        placeholder=\"path\"\r\n        aria-label=\"path\"\r\n        value={incoming.path}\r\n        onChange={((currentIncoming) => (e) => setIncomings(incomings.map(o => o.id === currentIncoming.id ? {...o, path: e.target && e.target.value} : o)))(incoming)}\r\n      />\r\n      <Form.Label>\r\n        Level\r\n      </Form.Label>\r\n      <Form.Control\r\n        className=\"path-input\"\r\n        placeholder=\"level\"\r\n        aria-label=\"level\"\r\n        value={incoming.level}\r\n        onChange={((currentIncoming) => (e) => setIncomings(incomings.map(o => o.id === currentIncoming.id ? {...o, level: e.target && e.target.value} : o)))(incoming)}\r\n      />\r\n      <Form.Label>\r\n        Filters:\r\n      </Form.Label>\r\n      {filterGroups}\r\n      <div className=\"action-button\">\r\n            <Button variant=\"info\" onClick={((currentIncoming) => () => addIncomingFilter(currentIncoming.id))(incoming)}>Add Filter</Button>\r\n            <Button variant=\"danger\" onClick={((currentIncoming) => () => handleIncomingDeleteForm(currentIncoming))(incoming)}>Remove</Button>\r\n        </div>\r\n      </div>);\r\n    }\r\n    return <>\r\n    {incomingGroups}\r\n    </>;\r\n  }\r\n\r\n  async function setConnection() {\r\n    console.log(hostUrl);\r\n    const response =\r\n      await axios.get(`${hostUrl}/api/store/${encodeURIComponent(storeId)}/predicates`);\r\n    console.log(response.data);\r\n    var predicates = response.data.values;\r\n    if(!predicates.includes('id')){\r\n      predicates = [...predicates, 'id'];\r\n    }\r\n    setPredicates(predicates);\r\n    localStorage.setItem('hostUrl', hostUrl);\r\n    localStorage.setItem('storeId', storeId);\r\n    localStorage.setItem('predicates', predicates);\r\n  }\r\n\r\n  function anyValidOutgoings() {\r\n    for(var outgoing of outgoings) {\r\n      if(outgoing.target && outgoing.target.filters && outgoing.target.filters.some((filter) => filter.predicate && filter.operation && filter.value)) return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function anyValidIncomings() {\r\n    for(var incoming of incomings) {\r\n      if(incoming.target && incoming.target.filters && incoming.target.filters.some((filter) => filter.predicate && filter.operation && filter.value)) return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function tryParseInt(str,defaultValue = 0) {\r\n    var retValue = defaultValue;\r\n    if(str) {\r\n      if (!isNaN(str)) {\r\n          retValue = parseInt(str);\r\n      }\r\n    }\r\n    return retValue;\r\n  }\r\n\r\n  function tryParseFloat(str,defaultValue = 0) {\r\n    var retValue = defaultValue;\r\n    if(str) {\r\n      if (!isNaN(str)) {\r\n          retValue = parseFloat(str);\r\n      }\r\n    }\r\n    return retValue;\r\n  }\r\n  \r\n\r\n\r\n  async function runQuery(e, continuation) {\r\n    console.log(filters);\r\n    console.log(outgoings);\r\n    var body = { filter: {}};\r\n    var id = null;\r\n    for(var filter of filters){\r\n      if(filter.predicate === 'id' && filter.operation === 'eq' && filter.value) {\r\n        id = filter.value;\r\n      }\r\n      body.filter[filter.predicate] = { \r\n        op: filter.operation,\r\n        value: filter.value\r\n      }\r\n      // convert strings to bools\r\n      if (body.filter[filter.predicate].value === \"true\") {\r\n        body.filter[filter.predicate].value = true;\r\n      }\r\n      if (body.filter[filter.predicate].value === \"false\") {\r\n        body.filter[filter.predicate].value = false;\r\n      }\r\n      if (!isNaN(parseFloat(body.filter[filter.predicate].value))) {\r\n        body.filter[filter.predicate].value = parseFloat(body.filter[filter.predicate].value);\r\n      }\r\n    }\r\n\r\n    if (anyValidOutgoings()){\r\n      body.outgoing = [];\r\n      for(var outgoing of outgoings) {\r\n        var newOutgoing = {\r\n          path: outgoing.path,\r\n          level: outgoing.level,\r\n          target: {\r\n            filter: {}\r\n          }\r\n        };\r\n        if (outgoing.target.filters.filter(f => f.predicate === 'id' && f.operation === 'eq' && f.value).length) {\r\n            delete newOutgoing.target.filter;\r\n            newOutgoing.target = {id: outgoing.target.filters.filter(f => f.predicate === 'id' && f.operation === 'eq')[0].value}\r\n        } \r\n        else {\r\n          for(var filter of outgoing.target.filters) {\r\n            newOutgoing.target.filter[filter.predicate] = { \r\n              op: filter.operation,\r\n              value: filter.value\r\n            }\r\n            // convert strings to bools\r\n            if (newOutgoing.target.filter[filter.predicate].value === \"true\") {\r\n              newOutgoing.target.filter[filter.predicate].value = true;\r\n            }\r\n            if (newOutgoing.target.filter[filter.predicate].value === \"false\") {\r\n              newOutgoing.target.filter[filter.predicate].value = false;\r\n            }\r\n            if (!isNaN(parseFloat(newOutgoing.target.filter[filter.predicate].value))) {\r\n              newOutgoing.target.filter[filter.predicate].value = parseFloat(newOutgoing.target.filter[filter.predicate].value);\r\n            }\r\n            newOutgoing.level = tryParseInt(newOutgoing.level);\r\n          }\r\n        }\r\n        body.outgoing.push(newOutgoing)\r\n      }\r\n    }\r\n\r\n    if (anyValidIncomings()){\r\n      body.incoming = [];\r\n      for(var incoming of incomings) {\r\n        var newIncoming = {\r\n          path: incoming.path,\r\n          level: incoming.level,\r\n          target: {\r\n            filter: {}\r\n          }\r\n        };\r\n        if (incoming.target.filters.filter(f => f.predicate === 'id' && f.operation === 'eq' && f.value).length) {\r\n          delete newIncoming.target.filter;\r\n          newIncoming.target = {id: incoming.target.filters.filter(f => f.predicate === 'id' && f.operation === 'eq')[0].value}\r\n        }  \r\n        else {\r\n          for(var filter of incoming.target.filters) {\r\n            newIncoming.target.filter[filter.predicate] = { \r\n              op: filter.operation,\r\n              value: filter.value\r\n            }\r\n            // convert strings to bools\r\n            if (newIncoming.target.filter[filter.predicate].value === \"true\") {\r\n              newIncoming.target.filter[filter.predicate].value = true;\r\n            }\r\n            if (newIncoming.target.filter[filter.predicate].value === \"false\") {\r\n              newIncoming.target.filter[filter.predicate].value = false;\r\n            }\r\n            if (!isNaN(parseFloat(newIncoming.target.filter[filter.predicate].value))) {\r\n              newIncoming.target.filter[filter.predicate].value = parseFloat(newIncoming.target.filter[filter.predicate].value);\r\n            }\r\n            newIncoming.level = tryParseInt(newIncoming.level);\r\n          }\r\n        }\r\n        body.incoming.push(newIncoming)\r\n      }\r\n    }\r\n    if(continuation) {\r\n      body.continuation = jsonResponse['continuation'];\r\n    }\r\n    if(countAggregate) {\r\n      body.aggregates = [{type : \"count\"}];\r\n    }\r\n\r\n    console.log(body);\r\n    // setShowGraph(true);\r\n    const response = id ? await axios.get(`${hostUrl}/api/store/${encodeURIComponent(storeId)}/${id}`) :\r\n      await axios.post(`${hostUrl}/api/store/${encodeURIComponent(storeId)}/query`, body);\r\n    console.log(response);\r\n    var time1 = new Date();\r\n    var newJson = continuation ? {...response.data, values: [...jsonResponse.values, ...response.data.values]} : response.data;\r\n    setJsonResponse(newJson);\r\n\r\n    var newNodes = [];\r\n    var newEdges = [];\r\n    if(newJson.values) {\r\n      for(var node of newJson.values) {\r\n        var newNode = {id: node.id, label: node.id, title: node.id};\r\n        if (colorNodes) {\r\n          newNode['color'] = ColorMapper.getColorForNode(node);\r\n        }\r\n        if(!newNodes.filter(n => n.id === newNode.id).length){\r\n          newNodes.push(newNode);\r\n        }\r\n        const toAdd = tryAddNodeToGraph(node);\r\n        newNodes = [...newNodes, ...toAdd.nodes.filter(n => newNodes.filter(node => node.id === n.id).length === 0)];\r\n        newEdges = [...newEdges, ...toAdd.edges.filter(e => newEdges.filter(edge => edge.id === e.id).length === 0)];\r\n      }\r\n    }\r\n    if(countAggregate) {\r\n      setShowGraph(false);\r\n    } else {\r\n      setShowGraph(true);\r\n    }\r\n    setGraph({nodes: newNodes, edges: newEdges});\r\n    \r\n    setShowJson(true);\r\n    var time2 = new Date();\r\n    console.log(time2 - time1);\r\n  }\r\n\r\n  function tryAddNodeToGraph(node){\r\n    var nodes = [];\r\n    var edges = [];\r\n    for(var propertyKey in node){\r\n      var property = node[propertyKey];\r\n      if(property === null) return { nodes, edges};\r\n      if (Array.isArray(property)){\r\n        for(var item of property){\r\n          if (!item.id) continue;\r\n          var newNode = {id: item.id, label: item.id, title: item.id};\r\n          if (colorNodes) {\r\n            newNode['color'] = ColorMapper.getColorForNode(item);\r\n          }\r\n          nodes.push(newNode)\r\n          edges.push({id: `${node.id}-to-${item.id}`, from: node.id, to: item.id})\r\n        }\r\n      }\r\n      else if (typeof property === 'object'){\r\n        if (!property.id) continue;\r\n        var newNode = {id: property.id, label: property.id, title: property.id};\r\n        if (colorNodes) {\r\n          newNode['color'] = ColorMapper.getColorForNode(property);\r\n        }\r\n        nodes.push(newNode)\r\n        edges.push({id: `${node.id}-to-${property.id}`, from: node.id, to: property.id})\r\n      }\r\n    }\r\n    return {nodes, edges};\r\n  }\r\n\r\n  function redrawGraph(useColor) {\r\n    var edges = [];\r\n    var newNodes = [];\r\n    for(var node of graph.nodes) {\r\n      var newNode = {id: node.id, label: node.id, title: node.id};\r\n      if (useColor) {\r\n        newNode['color'] = ColorMapper.getColorForNode(node);\r\n      }\r\n      newNodes.push(newNode);\r\n    }\r\n    for(var edge of graph.edges){\r\n      edges.push(edge);\r\n    }\r\n    setGraph({\r\n      nodes: [\r\n      ],\r\n      edges: [\r\n      ]\r\n    });\r\n    setTimeout(() => {\r\n      setShowGraph(true);\r\n      setGraph({...graph, nodes: newNodes, edges});\r\n    }, 1);\r\n  }\r\n\r\n  async function nodeSelected(selected) {\r\n    console.log(selected);\r\n    if(selected.name === 'id') {\r\n      var nodeToUpdate = jsonResponse;\r\n      for(var i of selected.namespace){\r\n        nodeToUpdate = nodeToUpdate[i];\r\n      }\r\n\r\n      const response = await axios.get(`${hostUrl}/api/store/${encodeURIComponent(storeId)}/${encodeURIComponent(selected.value)}`);\r\n      console.log(response);\r\n      var graphUpdate = tryAddNodeToGraph(response.data);\r\n      setGraph({nodes: [...graph.nodes, ...graphUpdate.nodes], edges: [...graph.edges, ...graphUpdate.edges]});\r\n\r\n      nodeToUpdate = {...nodeToUpdate, ...response.data};\r\n      for(var i = selected.namespace.length - 1; i >= 0; i--){\r\n        var parentNode = jsonResponse;\r\n        for(var j = 0; j < i; j++){\r\n          parentNode = parentNode[selected.namespace[j]];\r\n        }\r\n        parentNode[selected.namespace[i]] = nodeToUpdate;\r\n        nodeToUpdate = parentNode;\r\n      }\r\n      setJsonResponse(JSON.parse(JSON.stringify(nodeToUpdate)));\r\n    }\r\n    if(selected.namespace && selected.namespace.length === 1 && selected.namespace[0] === 'continuation'){\r\n      runQuery(null, jsonResponse.continuation);\r\n    }\r\n  }\r\n\r\nconst [graph, setGraph] = React.useState({\r\n  nodes: [\r\n  ],\r\n  edges: [\r\n  ]\r\n});\r\n\r\nvar events = {\r\n  select: async function(event) {\r\n      var { nodes, edges } = event;\r\n      console.log(event);\r\n      if(!nodes.length) return;\r\n      const response = await axios.get(`${hostUrl}/api/store/${encodeURIComponent(storeId)}/${encodeURIComponent(nodes[0])}`);\r\n      console.log(response);\r\n      var graphUpdate = tryAddNodeToGraph(response.data);\r\n      setGraph({nodes: [...graph.nodes, ...graphUpdate.nodes], edges: [...graph.edges, ...graphUpdate.edges]});\r\n      setJsonResponse(JSON.parse(JSON.stringify(response.data)));\r\n  }\r\n};\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Jumbotron>\r\n        <h1>\r\n          HexDb Query Builder\r\n        </h1>\r\n      </Jumbotron>\r\n      <div className=\"connection-info\">\r\n        <h5 className=\"section-title\" onClick={() => setShowConnectionInfo(!showConnectionInfo)}>\r\n          Connection Info\r\n        </h5>\r\n        <Collapse in={showConnectionInfo}>\r\n          <div>\r\n            <Form className=\"section\">\r\n              <Form.Group controlId=\"formBasicEmail\">\r\n                <Form.Label>Host Url</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"https://YourHost:YourPort\" value={hostUrl} onChange={(e) => setHostUrl(e.target.value)}/>\r\n                <Form.Label>Store Id</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"abc123\" value={storeId} onChange={(e) => setStoreId(e.target.value)}/>\r\n              </Form.Group>\r\n            </Form>\r\n            <div className=\"action-button\">\r\n              <Button variant=\"info\" onClick={setConnection}>Set Connection</Button>\r\n            </div>\r\n          </div>\r\n      </Collapse>\r\n      </div>\r\n      <hr/>\r\n      <h5 className=\"section-title\" onClick={() => setShowFilters(!showFilters)}>\r\n        Filters\r\n      </h5>\r\n      <Collapse in={showFilters}>\r\n        <div>\r\n          {renderFilters()}\r\n          <div className=\"action-button\">\r\n              <Button variant=\"info\" onClick={addFilter}>Add Filter</Button>\r\n          </div>\r\n        </div>\r\n      </Collapse>\r\n      <hr/>\r\n      <h5 className=\"section-title\" onClick={() => setShowOutgoing(!showOutgoing)}>\r\n        Outgoing\r\n      </h5>\r\n      <Collapse in={showOutgoing}>\r\n        <div>\r\n          {renderOutgoings()}\r\n          <div className=\"action-button\">\r\n              <Button variant=\"info\" onClick={addOutgoing}>Add Outgoing</Button>\r\n          </div>\r\n        </div>\r\n      </Collapse>\r\n      <hr/>\r\n      <h5 className=\"section-title\" onClick={() => setShowIncoming(!showIncoming)}>\r\n        Incoming\r\n      </h5>\r\n      <Collapse in={showIncoming}>\r\n        <div>\r\n          {renderIncomings()}\r\n          <div className=\"action-button\">\r\n              <Button variant=\"info\" onClick={addIncoming}>Add Incoming</Button>\r\n          </div>\r\n        </div>\r\n      </Collapse>\r\n      <hr/>\r\n      <h5 className=\"section-title\" onClick={() => setShowAggregates(!showAggregates)}>\r\n        Aggregates\r\n      </h5>\r\n      <Collapse in={showAggregates}>\r\n        <div className=\"section\">\r\n        <Form.Check \r\n          type='switch'\r\n          checked={countAggregate}\r\n          onChange={() => setCountAggregate(!countAggregate)}\r\n          id={`aggregates-count-switch`}\r\n          name='aggregates-switch'\r\n          label={`Count`}\r\n        />\r\n        </div>\r\n      </Collapse>\r\n      <hr/>\r\n      <div className=\"action-button\">\r\n        <Button variant=\"primary\" onClick={runQuery}>Run Query</Button>\r\n      </div>\r\n      <hr/>\r\n      <div>\r\n        <h5 className=\"section-title\" onClick={() => setShowGraph(!showGraph)}>\r\n          Query Response Graph\r\n        </h5>\r\n          <Collapse in={showGraph}>\r\n          <div className=\"section query-response\">\r\n          {/* <Button variant=\"danger\" onClick={expandAll}>Expand All (DANGER)</Button> */}\r\n          <Form.Check \r\n            type='switch'\r\n            checked={colorNodes}\r\n            onChange={() => {\r\n              setColorNodes(!colorNodes);\r\n              redrawGraph(!colorNodes);\r\n            }}\r\n            id={`colornode-switch`}\r\n            name='colornode-switch'\r\n            label={`Color Nodes`}\r\n          />\r\n          <Graph\r\n                graph={graph}\r\n                options={{\r\n                  configure: {\r\n                    enabled: false,\r\n                    filter: 'physics',\r\n                    showButton: false\r\n                  },\r\n                  layout: {\r\n                    // hierarchical: {\r\n                    //   enabled: true,\r\n                    //   nodeSpacing: 425,\r\n                    //   blockShifting: false,\r\n                    //   edgeMinimization: false,\r\n                    //   sortMethod: \"directed\"\r\n                    // },\r\n                    hierarchical: false,\r\n                    improvedLayout: true,\r\n                },\r\n                physics: {\r\n                  enabled: true,\r\n                  forceAtlas2Based: {\r\n                    gravitationalConstant: -146,\r\n                    centralGravity: 0.01,\r\n                    springConstant: 0.1,\r\n                    springLength: 30,\r\n                    damping: 1,\r\n                    avoidOverlap: 0.36\r\n                  },\r\n                  maxVelocity: 140,\r\n                  minVelocity: 1.87,\r\n                  solver: 'forceAtlas2Based',\r\n                  adaptiveTimestep: true,\r\n                  stabilization: true\r\n                },\r\n                nodes: {\r\n                  fixed: false,\r\n                  // scaling: {\r\n                  //   label: true\r\n                  // },\r\n                  shape: 'dot',\r\n                  shapeProperties : {\r\n                    interpolation: false\r\n                  }\r\n                },\r\n                edges: {\r\n                  smooth: {\r\n                    enabled: true,\r\n                    type: \"continuous\",\r\n                    roundness: 0.5\r\n                  }\r\n                },\r\n                manipulation: false,\r\n                interaction:{\r\n                  dragNodes:false,\r\n                  dragView: true\r\n                }\r\n                  // autoResize: true,\r\n                  // height: '100%',\r\n                  // width: '100%',\r\n                  // locale: 'en',\r\n                  // clickToUse: false,\r\n                }\r\n                }\r\n                events={events}\r\n                style={ { width: \"100%\", height: \"1500px\" }}\r\n                // getNetwork={getNetwork}\r\n                // getEdges={getEdges}\r\n                // getNodes={getNodes}\r\n                // vis={vis => (this.vis = vis)}\r\n            />\r\n          </div>\r\n        </Collapse>\r\n      </div>\r\n      <hr/>\r\n      <div>\r\n        <h5 className=\"section-title\" onClick={() => setShowJson(!showJson)}>\r\n          Query Response JSON\r\n        </h5>\r\n        <Collapse in={showJson}>\r\n          <div className=\"section query-response\">\r\n            <ReactJson src={jsonResponse} onSelect={nodeSelected}></ReactJson>\r\n            {/* <pre>{jsonResponse}</pre> */}\r\n          </div>\r\n        </Collapse>\r\n      </div>\r\n      <hr/>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}