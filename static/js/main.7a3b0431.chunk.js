(this["webpackJsonphexadb-query-ui"]=this["webpackJsonphexadb-query-ui"]||[]).push([[0],{124:function(e,t,a){e.exports=a(322)},129:function(e,t,a){},307:function(e,t,a){},322:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),o=(a(129),a(18)),l=a.n(o),u=a(7),d=a(19),s=a(4),f=a(8),p=a(12),b=a(30),v=a.n(b),g=a(48),h=a(9),m=a(28),y=a(123),E=a(21),C=a(27),O=a(118),j=a.n(O),x=(a(307),a(308),a(119)),k=a.n(x),N=a(120),w=a(121),S=new(function(){function e(){Object(N.a)(this,e),this.colors=["#63b598","#ce7d78","#ea9e70","#a48a9e","#c6e1e8","#648177","#0d5ac1","#f205e6","#1c0365","#14a9ad","#4ca2f9","#a4e43f","#d298e2","#6119d0","#d2737d","#c0a43c","#f2510e","#651be6","#79806e","#61da5e","#cd2f00","#9348af","#01ac53","#c5a4fb","#996635","#b11573","#4bb473","#75d89e","#2f3f94","#2f7b99","#da967d","#34891f","#b0d87b","#ca4751","#7e50a8","#c4d647","#e0eeb8","#11dec1","#289812","#566ca0","#ffdbe1","#2f1179","#935b6d","#916988","#513d98","#aead3a","#9e6d71","#4b5bdc","#0cd36d","#250662","#cb5bea","#228916","#ac3e1b","#df514a","#539397","#880977","#f697c1","#ba96ce","#679c9d","#c6c42c","#5d2c52","#48b41b","#e1cf3b","#5be4f0","#57c4d8","#a4d17a","#225b8","#be608b","#96b00c","#088baf","#f158bf","#e145ba","#ee91e3","#05d371","#5426e0","#4834d0","#802234","#6749e8","#0971f0","#8fb413","#b2b4f0","#c3c89d","#c9a941","#41d158","#fb21a3","#51aed9","#5bb32d","#807fb","#21538e","#89d534","#d36647","#7fb411","#0023b8","#3b8c2a","#986b53","#f50422","#983f7a","#ea24a3","#79352c","#521250","#c79ed2","#d6dd92","#e33e52","#b2be57","#fa06ec","#1bb699","#6b2e5f","#64820f","#1c271","#21538e","#89d534","#d36647","#7fb411","#0023b8","#3b8c2a","#986b53","#f50422","#983f7a","#ea24a3","#79352c","#521250","#c79ed2","#d6dd92","#e33e52","#b2be57","#fa06ec","#1bb699","#6b2e5f","#64820f","#1c271","#9cb64a","#996c48","#9ab9b7","#06e052","#e3a481","#0eb621","#fc458e","#b2db15","#aa226d","#792ed8","#73872a","#520d3a","#cefcb8","#a5b3d9","#7d1d85","#c4fd57","#f1ae16","#8fe22a","#ef6e3c","#243eeb","#1dc18","#dd93fd","#3f8473","#e7dbce","#421f79","#7a3d93","#635f6d","#93f2d7","#9b5c2a","#15b9ee","#0f5997","#409188","#911e20","#1350ce","#10e5b1","#fff4d7","#cb2582","#ce00be","#32d5d6","#17232","#608572","#c79bc2","#00f87c","#77772a","#6995ba","#fc6b57","#f07815","#8fd883","#060e27","#96e591","#21d52e","#d00043","#b47162","#1ec227","#4f0f6f","#1d1d58","#947002","#bde052","#e08c56","#28fcfd","#bb09b","#36486a","#d02e29","#1ae6db","#3e464c","#a84a8f","#911e7e","#3f16d9","#0f525f","#ac7c0a","#b4c086","#c9d730","#30cc49","#3d6751","#fb4c03","#640fc1","#62c03e","#d3493a","#88aa0b","#406df9","#615af0","#4be47","#2a3434","#4a543f","#79bca0","#a8b8d4","#00efd4","#7ad236","#7260d8","#1deaa7","#06f43a","#823c59","#e3d94c","#dc1c06","#f53b2a","#b46238","#2dfff6","#a82b89","#1a8011","#436a9f","#1a806a","#4cf09d","#c188a2","#67eb4b","#b308d3","#fc7e41","#af3101","#ff065","#71b1f4","#a2f8a5","#e23dd0","#d3486d","#00f7f9","#474893","#3cec35","#1c65cb","#5d1d0c","#2d7d2a","#ff3420","#5cdd87","#a259a4","#e4ac44","#1bede6","#8798a4","#d7790f","#b2c24f","#de73c2","#d70a9c","#25b67","#88e9b8","#c2b0e2","#86e98f","#ae90e2","#1a806b","#436a9e","#0ec0ff","#f812b3","#b17fc9","#8d6c2f","#d3277a","#2ca1ae","#9685eb","#8a96c6","#dba2e6","#76fc1b","#608fa4","#20f6ba","#07d7f6","#dce77a","#77ecca"],this.nodeTypeToColorMap={},this.indexIntoColors=2,this.highlightColor={border:this.colors[0],background:this.colors[1]}}return Object(w.a)(e,[{key:"getColorsForType",value:function(e){return this.nodeTypeToColorMap[e]?this.nodeTypeToColorMap[e]:(this.indexIntoColors+1>=this.colors.length&&(console.log("exceeded available colors"),this.indexIntoColors=2),this.nodeTypeToColorMap[e]={border:this.colors[this.indexIntoColors++],background:this.colors[this.indexIntoColors++]},this.nodeTypeToColorMap[e])}},{key:"getColorForNode",value:function(e){var t=e.id.split("-")[0],a=this.getColorsForType(t);return{border:a.border,background:a.background,highlight:this.highlightColor}}}]),e}()),I=a(312);var T=function(){var e=localStorage.getItem("predicates");e&&(e=e.split(","));var t=r.a.useState(e||["type","id"]),a=Object(f.a)(t,2),n=a[0],c=a[1],i=r.a.useState(["eq","ge","gt","le","lt","ne"]),o=Object(f.a)(i,2),b=o[0],O=(o[1],r.a.useState(localStorage.getItem("hostUrl")||"")),x=Object(f.a)(O,2),N=x[0],w=x[1],T=r.a.useState(localStorage.getItem("storeId")||""),F=Object(f.a)(T,2),L=F[0],R=F[1],q=r.a.useState([{id:I.generate(),predicate:"",operation:"",value:""}]),A=Object(f.a)(q,2),U=A[0],B=A[1],J=r.a.useState([{id:I.generate(),path:"*",level:0,target:{filters:[{id:I.generate(),predicate:"",operation:"",value:""}]}}]),K=Object(f.a)(J,2),M=K[0],P=K[1],Q=r.a.useState([{id:I.generate(),path:"*",level:0,target:{filters:[{id:I.generate(),predicate:"",operation:"",value:""}]}}]),G=Object(f.a)(Q,2),H=G[0],V=G[1],X=r.a.useState({}),W=Object(f.a)(X,2),Y=W[0],z=W[1],D=r.a.useState(!1),$=Object(f.a)(D,2),Z=$[0],_=$[1],ee=r.a.useState(!0),te=Object(f.a)(ee,2),ae=te[0],ne=te[1],re=r.a.useState(!0),ce=Object(f.a)(re,2),ie=ce[0],oe=ce[1],le=r.a.useState(!0),ue=Object(f.a)(le,2),de=ue[0],se=ue[1],fe=r.a.useState(!1),pe=Object(f.a)(fe,2),be=pe[0],ve=pe[1],ge=r.a.useState(!1),he=Object(f.a)(ge,2),me=he[0],ye=he[1],Ee=r.a.useState([]),Ce=Object(f.a)(Ee,2),Oe=(Ce[0],Ce[1],r.a.useState(!1)),je=Object(f.a)(Oe,2),xe=je[0],ke=je[1],Ne=r.a.useState(!1),we=Object(f.a)(Ne,2),Se=we[0],Ie=we[1],Te=r.a.useState(!0),Fe=Object(f.a)(Te,2),Le=Fe[0],Re=Fe[1];function qe(e,t){B(U.map((function(a){return a.id===t.id?Object(s.a)({},a,{value:e.target&&e.target.value}):a})))}function Ae(e){B(U.filter((function(t){return t.id!==e.id})))}function Ue(e,t,a){B(U.map((function(n){return n.id===t.id?Object(s.a)({},n,Object(d.a)({},a,e.length&&e[0])):n})))}function Be(e,t,a){B(U.map((function(n){return n.id===t.id?Object(s.a)({},n,Object(d.a)({},a,e)):n})))}function Je(e,t,a){P(M.map((function(n){return n.id===t.id?Object(s.a)({},n,{target:Object(s.a)({},n.target,{filters:n.target.filters.map((function(t){return t.id===a.id?Object(s.a)({},t,{value:e.target&&e.target.value}):t}))})}):n})))}function Ke(e,t){P(M.map((function(a){return a.id===e.id?Object(s.a)({},a,{target:Object(s.a)({},a.target,{filters:a.target.filters.filter((function(e){return e.id!==t.id}))})}):a})))}function Me(e){P(M.filter((function(t){return t.id!==e.id})))}function Pe(e,t,a,n){P(M.map((function(r){return r.id===t.id?Object(s.a)({},r,{target:Object(s.a)({},r.target,{filters:r.target.filters.map((function(t){return t.id===a.id?Object(s.a)({},t,Object(d.a)({},n,e.length&&e[0])):t}))})}):r})))}function Qe(e,t,a,n){P(M.map((function(r){return r.id===t.id?Object(s.a)({},r,{target:Object(s.a)({},r.target,{filters:r.target.filters.map((function(t){return t.id===a.id?Object(s.a)({},t,Object(d.a)({},n,e)):t}))})}):r})))}function Ge(e){var t=M.filter((function(t){return t.id===e}))[0];t.target.filters=[].concat(Object(u.a)(t.target.filters),[{id:I.generate(),predicate:"",operation:"",value:""}]),P(M.map((function(a){return a.id===e?t:a})))}function He(e){var t=H.filter((function(t){return t.id===e}))[0];t.target.filters=[].concat(Object(u.a)(t.target.filters),[{id:I.generate(),predicate:"",operation:"",value:""}]),V(H.map((function(a){return a.id===e?t:a})))}function Ve(e,t,a){V(H.map((function(n){return n.id===t.id?Object(s.a)({},n,{target:Object(s.a)({},n.target,{filters:n.target.filters.map((function(t){return t.id===a.id?Object(s.a)({},t,{value:e.target&&e.target.value}):t}))})}):n})))}function Xe(e,t){V(H.map((function(a){return a.id===e.id?Object(s.a)({},a,{target:Object(s.a)({},a.target,{filters:a.target.filters.filter((function(e){return e.id!==t.id}))})}):a})))}function We(e){V(H.filter((function(t){return t.id!==e.id})))}function Ye(e,t,a,n){V(H.map((function(r){return r.id===t.id?Object(s.a)({},r,{target:Object(s.a)({},r.target,{filters:r.target.filters.map((function(t){return t.id===a.id?Object(s.a)({},t,Object(d.a)({},n,e.length&&e[0])):t}))})}):r})))}function ze(e,t,a,n){V(H.map((function(r){return r.id===t.id?Object(s.a)({},r,{target:Object(s.a)({},r.target,{filters:r.target.filters.map((function(t){return t.id===a.id?Object(s.a)({},t,Object(d.a)({},n,e)):t}))})}):r})))}function De(){var e=!0,t=!1,a=void 0;try{for(var n,r=M[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var c=n.value;if(c.target&&c.target.filters&&c.target.filters.some((function(e){return e.predicate&&e.operation&&e.value})))return!0}}catch(i){t=!0,a=i}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!1}function $e(){var e=!0,t=!1,a=void 0;try{for(var n,r=H[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var c=n.value;if(c.target&&c.target.filters&&c.target.filters.some((function(e){return e.predicate&&e.operation&&e.value})))return!0}}catch(i){t=!0,a=i}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!1}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&(isNaN(e)||(t=parseInt(e))),t}function _e(e,t){var a,n,r,c,i,o,d,f,p,b,g,h,m,y,E,C,O,j,x,k,w,I,T,F,R,q,A,B,J,K,P,Q,G,V,X,W,D,$,Z,ee,te,ae,re,ce;return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(U),console.log(M),a={filter:{}},n=null,r=!0,c=!1,i=void 0,e.prev=7,o=U[Symbol.iterator]();!(r=(d=o.next()).done);r=!0)"id"===(f=d.value).predicate&&"eq"===f.operation&&f.value&&(n=f.value),a.filter[f.predicate]={op:f.operation,value:f.value},"true"===a.filter[f.predicate].value&&(a.filter[f.predicate].value=!0),"false"===a.filter[f.predicate].value&&(a.filter[f.predicate].value=!1),isNaN(parseFloat(a.filter[f.predicate].value))||(a.filter[f.predicate].value=parseFloat(a.filter[f.predicate].value));e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),c=!0,i=e.t0;case 15:e.prev=15,e.prev=16,r||null==o.return||o.return();case 18:if(e.prev=18,!c){e.next=21;break}throw i;case 21:return e.finish(18);case 22:return e.finish(15);case 23:if(!De()){e.next=75;break}a.outgoing=[],p=!0,b=!1,g=void 0,e.prev=28,h=M[Symbol.iterator]();case 30:if(p=(m=h.next()).done){e.next=61;break}if(y=m.value,E={path:y.path,level:y.level,target:{filter:{}}},!y.target.filters.filter((function(e){return"id"===e.predicate&&"eq"===e.operation&&e.value})).length){e.next=38;break}delete E.target.filter,E.target={id:y.target.filters.filter((function(e){return"id"===e.predicate&&"eq"===e.operation}))[0].value},e.next=57;break;case 38:for(C=!0,O=!1,j=void 0,e.prev=41,x=y.target.filters[Symbol.iterator]();!(C=(k=x.next()).done);C=!0)f=k.value,E.target.filter[f.predicate]={op:f.operation,value:f.value},"true"===E.target.filter[f.predicate].value&&(E.target.filter[f.predicate].value=!0),"false"===E.target.filter[f.predicate].value&&(E.target.filter[f.predicate].value=!1),isNaN(parseFloat(E.target.filter[f.predicate].value))||(E.target.filter[f.predicate].value=parseFloat(E.target.filter[f.predicate].value)),E.level=Ze(E.level);e.next=49;break;case 45:e.prev=45,e.t1=e.catch(41),O=!0,j=e.t1;case 49:e.prev=49,e.prev=50,C||null==x.return||x.return();case 52:if(e.prev=52,!O){e.next=55;break}throw j;case 55:return e.finish(52);case 56:return e.finish(49);case 57:a.outgoing.push(E);case 58:p=!0,e.next=30;break;case 61:e.next=67;break;case 63:e.prev=63,e.t2=e.catch(28),b=!0,g=e.t2;case 67:e.prev=67,e.prev=68,p||null==h.return||h.return();case 70:if(e.prev=70,!b){e.next=73;break}throw g;case 73:return e.finish(70);case 74:return e.finish(67);case 75:if(!$e()){e.next=127;break}a.incoming=[],w=!0,I=!1,T=void 0,e.prev=80,F=H[Symbol.iterator]();case 82:if(w=(R=F.next()).done){e.next=113;break}if(q=R.value,A={path:q.path,level:q.level,target:{filter:{}}},!q.target.filters.filter((function(e){return"id"===e.predicate&&"eq"===e.operation&&e.value})).length){e.next=90;break}delete A.target.filter,A.target={id:q.target.filters.filter((function(e){return"id"===e.predicate&&"eq"===e.operation}))[0].value},e.next=109;break;case 90:for(B=!0,J=!1,K=void 0,e.prev=93,P=q.target.filters[Symbol.iterator]();!(B=(Q=P.next()).done);B=!0)f=Q.value,A.target.filter[f.predicate]={op:f.operation,value:f.value},"true"===A.target.filter[f.predicate].value&&(A.target.filter[f.predicate].value=!0),"false"===A.target.filter[f.predicate].value&&(A.target.filter[f.predicate].value=!1),isNaN(parseFloat(A.target.filter[f.predicate].value))||(A.target.filter[f.predicate].value=parseFloat(A.target.filter[f.predicate].value)),A.level=Ze(A.level);e.next=101;break;case 97:e.prev=97,e.t3=e.catch(93),J=!0,K=e.t3;case 101:e.prev=101,e.prev=102,B||null==P.return||P.return();case 104:if(e.prev=104,!J){e.next=107;break}throw K;case 107:return e.finish(104);case 108:return e.finish(101);case 109:a.incoming.push(A);case 110:w=!0,e.next=82;break;case 113:e.next=119;break;case 115:e.prev=115,e.t4=e.catch(80),I=!0,T=e.t4;case 119:e.prev=119,e.prev=120,w||null==F.return||F.return();case 122:if(e.prev=122,!I){e.next=125;break}throw T;case 125:return e.finish(122);case 126:return e.finish(119);case 127:if(t&&(a.continuation=Y.continuation),Se&&(a.aggregates=[{type:"count"}]),console.log(a),ne(!0),!n){e.next=137;break}return e.next=134,l.a.awrap(v.a.get("".concat(N,"/api/store/").concat(encodeURIComponent(L),"/").concat(n)));case 134:e.t5=e.sent,e.next=140;break;case 137:return e.next=139,l.a.awrap(v.a.post("".concat(N,"/api/store/").concat(encodeURIComponent(L),"/query"),a));case 139:e.t5=e.sent;case 140:for(G=e.t5,console.log(G),V=t?Object(s.a)({},G.data,{values:[].concat(Object(u.a)(Y.values),Object(u.a)(G.data.values))}):G.data,z(V),X=[],W=[],D=!0,$=!1,Z=void 0,e.prev=149,ee=V.values[Symbol.iterator]();!(D=(te=ee.next()).done);D=!0)ae=te.value,re={id:ae.id,label:ae.id,title:ae.id},Le&&(re.color=S.getColorForNode(ae)),X.push(re),ce=et(ae),X=[].concat(Object(u.a)(X),Object(u.a)(ce.nodes)),W=[].concat(Object(u.a)(W),Object(u.a)(ce.edges));e.next=157;break;case 153:e.prev=153,e.t6=e.catch(149),$=!0,Z=e.t6;case 157:e.prev=157,e.prev=158,D||null==ee.return||ee.return();case 160:if(e.prev=160,!$){e.next=163;break}throw Z;case 163:return e.finish(160);case 164:return e.finish(157);case 165:ne(!0),rt({nodes:X,edges:W}),_(!0);case 168:case"end":return e.stop()}}),null,null,[[7,11,15,23],[16,,18,22],[28,63,67,75],[41,45,49,57],[50,,52,56],[68,,70,74],[80,115,119,127],[93,97,101,109],[102,,104,108],[120,,122,126],[149,153,157,165],[158,,160,164]])}function et(e){var t=[],a=[];for(var n in e){var r=e[n];if(null===r)return{nodes:t,edges:a};if(Array.isArray(r)){var c=!0,i=!1,o=void 0;try{for(var l,u=r[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var d=l.value;if(d.id){var s={id:d.id,label:d.id,title:d.id};Le&&(s.color=S.getColorForNode(d)),t.push(s),a.push({id:"".concat(e.id,"-to-").concat(d.id),from:e.id,to:d.id})}}}catch(f){i=!0,o=f}finally{try{c||null==u.return||u.return()}finally{if(i)throw o}}}else if("object"===typeof r){if(!r.id)continue;s={id:r.id,label:r.id,title:r.id};Le&&(s.color=S.getColorForNode(r)),t.push(s),a.push({id:"".concat(e.id,"-to-").concat(r.id),from:e.id,to:r.id})}}return{nodes:t,edges:a}}var tt=r.a.useState({nodes:[],edges:[]}),at=Object(f.a)(tt,2),nt=at[0],rt=at[1],ct={select:function(e){var t,a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.nodes,e.edges,console.log(e),t.length){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,l.a.awrap(v.a.get("".concat(N,"/api/store/").concat(encodeURIComponent(L),"/").concat(encodeURIComponent(t[0]))));case 6:a=r.sent,console.log(a),n=et(a.data),rt({nodes:[].concat(Object(u.a)(nt.nodes),Object(u.a)(n.nodes)),edges:[].concat(Object(u.a)(nt.edges),Object(u.a)(n.edges))}),z(JSON.parse(JSON.stringify(a.data)));case 11:case"end":return r.stop()}}))}};return r.a.createElement("div",{className:"App"},r.a.createElement(y.a,null,r.a.createElement("h1",null,"HexDb Query Builder")),r.a.createElement("div",{className:"connection-info"},r.a.createElement("h5",{className:"section-title",onClick:function(){return oe(!ie)}},"Connection Info"),r.a.createElement(E.a,{in:ie},r.a.createElement("div",null,r.a.createElement(h.a,{className:"section"},r.a.createElement(h.a.Group,{controlId:"formBasicEmail"},r.a.createElement(h.a.Label,null,"Host Url"),r.a.createElement(h.a.Control,{type:"text",placeholder:"https://YourHost:YourPort",value:N,onChange:function(e){return w(e.target.value)}}),r.a.createElement(h.a.Label,null,"Store Id"),r.a.createElement(h.a.Control,{type:"text",placeholder:"abc123",value:L,onChange:function(e){return R(e.target.value)}}))),r.a.createElement("div",{className:"action-button"},r.a.createElement(p.a,{variant:"info",onClick:function(){var e,t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(N),a.next=3,l.a.awrap(v.a.get("".concat(N,"/api/store/").concat(encodeURIComponent(L),"/predicates")));case 3:e=a.sent,console.log(e.data),(t=e.data.values).includes("id")||(t=[].concat(Object(u.a)(t),["id"])),c(t),localStorage.setItem("hostUrl",N),localStorage.setItem("storeId",L),localStorage.setItem("predicates",t);case 11:case"end":return a.stop()}}))}},"Set Connection"))))),r.a.createElement("hr",null),r.a.createElement("h5",{className:"section-title",onClick:function(){return se(!de)}},"Filters"),r.a.createElement(E.a,{in:de},r.a.createElement("div",null,function(){var e=[],t=!0,a=!1,c=void 0;try{for(var i,o=U[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;e.push(r.a.createElement(g.a,{className:"input-group"},r.a.createElement(C.Typeahead,{id:l.id+"predicate",labelKey:"predicate",multiple:!1,options:n,placeholder:"Choose a predicate",className:"Typeahead",value:l.predicate,allowNew:!0,onChange:function(e){return function(t){return Ue(t,e,"predicate")}}(l),onInputChange:function(e){return function(t){return Be(t,e,"predicate")}}(l)}),r.a.createElement(C.Typeahead,{id:l.id+"operation",labelKey:"operation",multiple:!1,options:b,placeholder:"Choose an operation",className:"Typeahead",value:l.operation,onChange:function(e){return function(t){return Ue(t,e,"operation")}}(l),onInputChange:function(e){return function(t){return Be(t,e,"operation")}}(l)}),r.a.createElement(m.a,{placeholder:"value","aria-label":"value",value:l.value,onChange:function(e){return function(t){return qe(t,e)}}(l)}),r.a.createElement(p.a,{variant:"danger",onClick:function(e){return function(){return Ae(e)}}(l)},"X")))}}catch(u){a=!0,c=u}finally{try{t||null==o.return||o.return()}finally{if(a)throw c}}return r.a.createElement(r.a.Fragment,null,e)}(),r.a.createElement("div",{className:"action-button"},r.a.createElement(p.a,{variant:"info",onClick:function(){B([].concat(Object(u.a)(U),[{id:I.generate(),predicate:"",operation:"",value:""}]))}},"Add Filter")))),r.a.createElement("hr",null),r.a.createElement("h5",{className:"section-title",onClick:function(){return ve(!be)}},"Outgoing"),r.a.createElement(E.a,{in:be},r.a.createElement("div",null,function(){var e=[],t=!0,a=!1,c=void 0;try{for(var i,o=M[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value,u=[];if(l.target){var d=!0,f=!1,v=void 0;try{for(var y,E=l.target.filters[Symbol.iterator]();!(d=(y=E.next()).done);d=!0){var O=y.value;u.push(r.a.createElement(g.a,{className:"input-group"},r.a.createElement(C.Typeahead,{id:O.id+"predicate-outgoing",labelKey:"predicate",multiple:!1,options:n,placeholder:"Choose a predicate",className:"Typeahead",value:O.predicate,allowNew:!0,onChange:function(e,t){return function(a){return Pe(a,e,t,"predicate")}}(l,O),onInputChange:function(e,t){return function(a){return Qe(a,e,t,"predicate")}}(l,O)}),r.a.createElement(C.Typeahead,{id:O.id+"operation-outgoing",labelKey:"operation",multiple:!1,options:b,placeholder:"Choose an operation",className:"Typeahead",value:O.operation,onChange:function(e,t){return function(a){return Pe(a,e,t,"operation")}}(l,O),onInputChange:function(e,t){return function(a){return Qe(a,e,t,"operation")}}(l,O)}),r.a.createElement(m.a,{placeholder:"value","aria-label":"value",value:O.value,onChange:function(e,t){return function(a){return Je(a,e,t)}}(l,O)}),r.a.createElement(p.a,{variant:"danger",onClick:function(e,t){return function(){return Ke(e,t)}}(l,O)},"X")))}}catch(j){f=!0,v=j}finally{try{d||null==E.return||E.return()}finally{if(f)throw v}}e.push(r.a.createElement("div",{className:"section"},r.a.createElement(h.a.Label,null,"Path"),r.a.createElement(h.a.Control,{className:"path-input",placeholder:"path","aria-label":"path",value:l.path,onChange:function(e){return function(t){return P(M.map((function(a){return a.id===e.id?Object(s.a)({},a,{path:t.target&&t.target.value}):a})))}}(l)}),r.a.createElement(h.a.Label,null,"Level"),r.a.createElement(h.a.Control,{className:"path-input",placeholder:"level","aria-label":"level",value:l.level,onChange:function(e){return function(t){return P(M.map((function(a){return a.id===e.id?Object(s.a)({},a,{level:t.target&&t.target.value}):a})))}}(l)}),r.a.createElement(h.a.Label,null,"Filters:"),u,r.a.createElement("div",{className:"action-button"},r.a.createElement(p.a,{variant:"info",onClick:function(e){return function(){return Ge(e.id)}}(l)},"Add Filter"),r.a.createElement(p.a,{variant:"danger",onClick:function(e){return function(){return Me(e)}}(l)},"Remove"))))}}}catch(j){a=!0,c=j}finally{try{t||null==o.return||o.return()}finally{if(a)throw c}}return r.a.createElement(r.a.Fragment,null,e)}(),r.a.createElement("div",{className:"action-button"},r.a.createElement(p.a,{variant:"info",onClick:function(){P([].concat(Object(u.a)(M),[{id:I.generate(),path:"*",target:{filters:[{id:I.generate(),predicate:"",operation:"",value:""}]}}]))}},"Add Outgoing")))),r.a.createElement("hr",null),r.a.createElement("h5",{className:"section-title",onClick:function(){return ye(!me)}},"Incoming"),r.a.createElement(E.a,{in:me},r.a.createElement("div",null,function(){var e=[],t=!0,a=!1,c=void 0;try{for(var i,o=H[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value,u=[];if(l.target){var d=!0,f=!1,v=void 0;try{for(var y,E=l.target.filters[Symbol.iterator]();!(d=(y=E.next()).done);d=!0){var O=y.value;u.push(r.a.createElement(g.a,{className:"input-group"},r.a.createElement(C.Typeahead,{id:O.id+"predicate-incoming",labelKey:"predicate",multiple:!1,options:n,placeholder:"Choose a predicate",className:"Typeahead",value:O.predicate,allowNew:!0,onChange:function(e,t){return function(a){return Ye(a,e,t,"predicate")}}(l,O),onInputChange:function(e,t){return function(a){return ze(a,e,t,"predicate")}}(l,O)}),r.a.createElement(C.Typeahead,{id:O.id+"operation-incoming",labelKey:"operation",multiple:!1,options:b,placeholder:"Choose an operation",className:"Typeahead",value:O.operation,onChange:function(e,t){return function(a){return Ye(a,e,t,"operation")}}(l,O),onInputChange:function(e,t){return function(a){return ze(a,e,t,"operation")}}(l,O)}),r.a.createElement(m.a,{placeholder:"value","aria-label":"value",value:O.value,onChange:function(e,t){return function(a){return Ve(a,e,t)}}(l,O)}),r.a.createElement(p.a,{variant:"danger",onClick:function(e,t){return function(){return Xe(e,t)}}(l,O)},"X")))}}catch(j){f=!0,v=j}finally{try{d||null==E.return||E.return()}finally{if(f)throw v}}e.push(r.a.createElement("div",{className:"section"},r.a.createElement(h.a.Label,null,"Path"),r.a.createElement(h.a.Control,{className:"path-input",placeholder:"path","aria-label":"path",value:l.path,onChange:function(e){return function(t){return V(M.map((function(a){return a.id===e.id?Object(s.a)({},a,{path:t.target&&t.target.value}):a})))}}(l)}),r.a.createElement(h.a.Label,null,"Level"),r.a.createElement(h.a.Control,{className:"path-input",placeholder:"level","aria-label":"level",value:l.level,onChange:function(e){return function(t){return V(M.map((function(a){return a.id===e.id?Object(s.a)({},a,{level:t.target&&t.target.value}):a})))}}(l)}),r.a.createElement(h.a.Label,null,"Filters:"),u,r.a.createElement("div",{className:"action-button"},r.a.createElement(p.a,{variant:"info",onClick:function(e){return function(){return He(e.id)}}(l)},"Add Filter"),r.a.createElement(p.a,{variant:"danger",onClick:function(e){return function(){return We(e)}}(l)},"Remove"))))}}}catch(j){a=!0,c=j}finally{try{t||null==o.return||o.return()}finally{if(a)throw c}}return r.a.createElement(r.a.Fragment,null,e)}(),r.a.createElement("div",{className:"action-button"},r.a.createElement(p.a,{variant:"info",onClick:function(){V([].concat(Object(u.a)(H),[{id:I.generate(),path:"*",target:{filters:[{id:I.generate(),predicate:"",operation:"",value:""}]}}]))}},"Add Incoming")))),r.a.createElement("hr",null),r.a.createElement("h5",{className:"section-title",onClick:function(){return ke(!xe)}},"Aggregates"),r.a.createElement(E.a,{in:xe},r.a.createElement("div",{className:"section"},r.a.createElement(h.a.Check,{type:"switch",checked:Se,onChange:function(){return Ie(!Se)},id:"aggregates-count-switch",name:"aggregates-switch",label:"Count"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"action-button"},r.a.createElement(p.a,{variant:"primary",onClick:_e},"Run Query")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h5",{className:"section-title",onClick:function(){return ne(!ae)}},"Query Response Graph"),r.a.createElement(E.a,{in:ae},r.a.createElement("div",{className:"section query-response"},r.a.createElement(h.a.Check,{type:"switch",checked:Le,onChange:function(){Re(!Le),function(e){var t=[],a=[],n=!0,r=!1,c=void 0;try{for(var i,o=nt.nodes[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value,u={id:l.id,label:l.id,title:l.id};e&&(u.color=S.getColorForNode(l)),a.push(u)}}catch(h){r=!0,c=h}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}var d=!0,f=!1,p=void 0;try{for(var b,v=nt.edges[Symbol.iterator]();!(d=(b=v.next()).done);d=!0){var g=b.value;t.push(g)}}catch(h){f=!0,p=h}finally{try{d||null==v.return||v.return()}finally{if(f)throw p}}rt({nodes:[],edges:[]}),setTimeout((function(){ne(!0),rt(Object(s.a)({},nt,{nodes:a,edges:t}))}),1)}(!Le)},id:"colornode-switch",name:"colornode-switch",label:"Color Nodes"}),r.a.createElement(k.a,{graph:nt,options:{configure:{enabled:!1,filter:"physics",showButton:!1},layout:{hierarchical:!1,improvedLayout:!0},physics:{enabled:!0,forceAtlas2Based:{gravitationalConstant:-146,centralGravity:.01,springConstant:.1,springLength:30,damping:1,avoidOverlap:.36},maxVelocity:140,minVelocity:1.87,solver:"forceAtlas2Based",adaptiveTimestep:!0,stabilization:!0},nodes:{fixed:!1,shape:"dot",shapeProperties:{interpolation:!1}},edges:{smooth:{enabled:!0,type:"continuous",roundness:.5}},manipulation:!1,interaction:{dragNodes:!1,dragView:!0}},events:ct,style:{width:"100%",height:"1500px"}})))),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h5",{className:"section-title",onClick:function(){return _(!Z)}},"Query Response JSON"),r.a.createElement(E.a,{in:Z},r.a.createElement("div",{className:"section query-response"},r.a.createElement(j.a,{src:Y,onSelect:function(e){var t,a,n,r,c,i,o,d,f,p,b;return l.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(console.log(e),"id"!==e.name){g.next=31;break}for(t=Y,a=!0,n=!1,r=void 0,g.prev=6,c=e.namespace[Symbol.iterator]();!(a=(i=c.next()).done);a=!0)o=i.value,t=t[o];g.next=14;break;case 10:g.prev=10,g.t0=g.catch(6),n=!0,r=g.t0;case 14:g.prev=14,g.prev=15,a||null==c.return||c.return();case 17:if(g.prev=17,!n){g.next=20;break}throw r;case 20:return g.finish(17);case 21:return g.finish(14);case 22:return g.next=24,l.a.awrap(v.a.get("".concat(N,"/api/store/").concat(encodeURIComponent(L),"/").concat(encodeURIComponent(e.value))));case 24:for(d=g.sent,console.log(d),f=et(d.data),rt({nodes:[].concat(Object(u.a)(nt.nodes),Object(u.a)(f.nodes)),edges:[].concat(Object(u.a)(nt.edges),Object(u.a)(f.edges))}),t=Object(s.a)({},t,{},d.data),o=e.namespace.length-1;o>=0;o--){for(p=Y,b=0;b<o;b++)p=p[e.namespace[b]];p[e.namespace[o]]=t,t=p}z(JSON.parse(JSON.stringify(t)));case 31:e.namespace&&1===e.namespace.length&&"continuation"===e.namespace[0]&&_e(0,Y.continuation);case 32:case"end":return g.stop()}}),null,null,[[6,10,14,22],[15,,17,21]])}})))),r.a.createElement("hr",null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[124,1,2]]]);
//# sourceMappingURL=main.7a3b0431.chunk.js.map